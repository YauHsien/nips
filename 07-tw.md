NIP-07 中文譯文
==============

瀏覽器支援 `window.nostr`
------------------------

`草稿` `可選項` `作者:fiatjaf`

瀏覽器可以啟用 `window.nostr` 物件；瀏覽器外掛程式也可以那麼做。啟用 `window.nostr` 功能之後，網站或網頁應用軟體都可以使用該功能。

該物件須定義下列方法：

```
async window.nostr.getPublicKey(): string // 將公鑰以 16 進制數字為傳回結果
async window.nostr.signEvent(event: Event): Event // 收一筆事件資料；為其加上 `id`，`pubkey`,`sig` 欄位，為傳回結果
```

除上述二項基本方法外，可選擇實作下列幾個函數：
```
async window.nostr.getRelays(): { [url: string]: {read: boolean, write: boolean} } // 傳回結果為中繼網址對照表，其中帶有中繼規則
async window.nostr.nip04.encrypt(pubkey, plaintext): string // 傳回結果為 NIP-04 提到的密文與啟動向量 `iv`
async window.nostr.nip04.decrypt(pubkey, ciphertext): string // 參數為 NIP-04 提到的密文與啟動向量 `iv`
```

### 相關實作

- [nos2x](https://github.com/fiatjaf/nos2x)
- [Alby](https://getalby.com)
- [Blockcore](https://www.blockcore.net/wallet)
- [nos2x-fox](https://diegogurpegui.com/nos2x-fox/)
