NIP-02 中文譯文
==============

通訊錄與暱稱
----------

`最終版` `可選項` `作者:fiatjaf` `作者:arcbtc`

欄位 kind `3` 是表示「通訊錄」的事件，其中帶有標籤 `p` ，每個標籤 `p` 代表一個該使用者正在追蹤的個人資料。

每個標籤都該包含一筆個人資料的 pubkey ，以及可取得該筆資料的中繼站址。若不需要，則可將中繼站址欄位填空白文字。此外，標籤還須帶一個「暱稱」，即該個人資料在區域用的名字；也若不需要，則可填空白文字。意即 `["p", 「 32 個位元組的 16 進制數字表達的 pubkey 」, 「主要來源中繼站址」, 「暱稱」]` 。而欄位 `content` 則可以任意文字，或掠過，不使用。

例如，

```json
{
  "kind": 3,
  "tags": [
    ["p", "91cf9..4e5ca", "wss://alicerelay.com/", "alice"],
    ["p", "14aeb..8dad4", "wss://bobrelay.com/nostr", "bob"],
    ["p", "612ae..e610f", "ws://carolrelay.com/ws", "carol"]
  ],
  "content": "",
  ... 以下其他欄位
```

每一批新發布的通訊錄都取代舊的通訊錄；所以，每一批通訊錄該包含全部的通訊人名單。當收到新的通訊錄時，中繼端與客戶端都該將舊的通訊錄刪除。

## 使用案例

### 通訊錄存底

只要有人信賴一個中繼站在有限期間會如實保存他發送的事件，他就可以送出 `kind-3` 事件將他的通訊錄備份，之後在另一台客戶端上取回通訊錄。

### 個人資料探索與內容補充

客戶端可以信賴 `kind-3` 事件，由所瀏覽的個人資料裡找出一列追蹤名單。由此建議相關的聯絡人。或在其他情境展示資料。A client may rely on the kind-3 event to display a list of followed people by profiles one is browsing; make lists of suggestions on who to follow based on the contact lists of other people one might be following or browsing; or show the data in other contexts.

### 中繼端分享

客戶端可以提出一列通訊錄，聯絡人資料都來自於善良的中繼端，讓其他客戶端可以更新他自己的中繼站清單，加強抗內容審查能力。

### Petname scheme

The data from these contact lists can be used by clients to construct local ["petname"](http://www.skyhunter.com/marcs/petnames/IntroPetNames.html) tables derived from other people's contact lists. This alleviates the need for global human-readable names. For example:

A user has an internal contact list that says

```json
[
  ["p", "21df6d143fb96c2ec9d63726bf9edc71", "", "erin"]
]
```

And receives two contact lists, one from `21df6d143fb96c2ec9d63726bf9edc71` that says

```json
[
  ["p", "a8bb3d884d5d90b413d9891fe4c4e46d", "", "david"]
]
```

and another from `a8bb3d884d5d90b413d9891fe4c4e46d` that says

```json
[
  ["p", "f57f54057d2a7af0efecc8b0b66f5708", "", "frank"]
]
```

When the user sees `21df6d143fb96c2ec9d63726bf9edc71` the client can show _erin_ instead;
When the user sees `a8bb3d884d5d90b413d9891fe4c4e46d` the client can show _david.erin_ instead;
When the user sees `f57f54057d2a7af0efecc8b0b66f5708` the client can show _frank.david.erin_ instead.
